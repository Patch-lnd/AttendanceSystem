<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Attendance Dashboard</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Socket.IO client (OBLIGATOIRE) -->
    <script src="/socket.io/socket.io.js"></script>
</head>

<body class="bg-gray-100 min-h-screen p-8">

<h1 class="text-3xl font-bold text-center mb-8">
    Tableau de Présence
</h1>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="cards-container">

    <% users.forEach(user => { %>

        <!-- Carte utilisateur -->
        <div
            id="user-<%= user.id %>"
            class="
                relative p-6 rounded-2xl text-white
                transition-all duration-300
                backdrop-blur-lg border border-white/20
                shadow-xl

                <%= user.is_present
                    ? 'bg-green-600/40 ring-1 ring-green-400/40'
                    : 'bg-red-600/40 ring-1 ring-red-400/40'
                %>
            "
            data-status="<%= user.is_present %>"
        >

            <h2 class="text-xl font-semibold">
                <%= user.full_name %>
            </h2>

            <p class="text-sm mt-2">
                UID : <%= user.rfid_uid %>
            </p>

            <p class="mt-4 text-lg font-bold status-text">
                <%= user.is_present ? 'PRÉSENT' : 'ABSENT' %>
            </p>

        </div>

    <% }); %>

</div>

<!-- SCRIPT CLIENT -->
<script src="/js/dashboard.js"></script>

</body>
</html>
